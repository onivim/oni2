---
title: Feb 2021: 0.5.3 Release
author: Bryan Phelps
authorURL: http://twitter.com/bryphe
---

Time flies - can't believe it's been a month and it's time to release 0.5.3. I'm still getting used to this monthly-release-schedule, but it's nice to be able to share what's happening more frequently.

## What's new in 0.5.3

### CodeLens

Onivim now supports inline elements _between_ lines of code  - 

It's particularly useful for working in ReasonML or OCaml, because those extensions show you the type signatures that are being inferred:

![2021-01-05 14 14 06](https://user-images.githubusercontent.com/13532591/106822428-faadee00-6633-11eb-9de6-a3fb770807d4.gif)

Having that live-type inference for those languages is a huge time-saver!

However, there are several other extensions that use it too. For example, the bundled JavaScript / TypeScript extensions can show reference counts:

![typescript-codelens](https://user-images.githubusercontent.com/13532591/106821440-04365680-6632-11eb-8844-6e614a839352.gif)

(The TypeScript and JavaScript extensions require setting the `"typescript.referencesCodeLens.enabled"` and `"javascript.referencesCodeLens.enabled"` configuration settings to `true`, respectively).

And the [C# extension](TODO) uses CodeLens to show reference counts by default:

![csharp](https://user-images.githubusercontent.com/13532591/103705332-b4476f80-4f5f-11eb-8c84-cc2a2d9b99dd.gif)

Language extensions like [Elm](https://open-vsx.org/extension/Elmtooling/elm-ls-vscode) use CodeLens to show what functions are part of the public interface:

![elm-codelens](https://user-images.githubusercontent.com/13532591/106822417-f550a380-6633-11eb-99ec-eb839aaf1eca.png)

This is a feature that I had always wanted in Onivim v1, but never could get quite right. 
If you're constrained to your editor model as a terminal-grid-of-characters, it's pretty tricky to bolt-on. However, because Onivim v2 handles the complete
rendering pipeline for the editor surface, it's something that I could finally integrate. 

Even still, there were lots of challenges with performance, with animating, with aligning the viewport to minimize 'jerk', and it touches
all kinds of other features like word wrap and scrolling. Vim gestures like `zz`, `zb`, `zt` and scrolloff all interact with these inline elements, and it impacts
our mapping of 'buffer position' -> 'screen pixel position', so those internal functions had to be updated to account for modelling inline elements.

It's an exciting feature, though, because the infrastructure for the inline elements is fairly general - meaning Onivim can potentially render _arbitrary UI_ in between lines. 
I'm looking forward to building on this in the future to implement other features, like an inline diff view, or a keyboard accessible 'peek view' to show references 
or slices of code from other buffers, without needing to leave your current behavior.

Some users may find this feature distracting, though, so you can turn off CodeLens by setting:

```
"editor.codeLens": false
``` 

in your configuration.

### Menu bar

Finally... Onivim has a menu bar on all platforms!

On OSX, we integrate with the native application bar:

![2021-01-12 15 40 15](https://user-images.githubusercontent.com/13532591/104387736-9a240900-54ec-11eb-9978-9d3a66c9fe76.gif)

And the feature is also available on Windows and Linux, using a custom-rendered menu bar:

![linux-menu-bar](https://user-images.githubusercontent.com/13532591/106936105-04396380-66d1-11eb-9cc5-a91a5d0dd69a.png)

It's pretty spartan at the moment - but it gives us the infrastructure necessary to keep adding more commands.

The menu bar is on by default, but it can be turned off in Windows and Linux with the following configuration entry:

```
"window.menuBarVisibility": "hidden"
```

Thanks to @zbaylin for all the work he did to wire up the native OSX APIs to support this!

### Preview functionality

@fanantoxa has implemented a great feature for mouse users - preview functionality.

Preview mode, which is on-by-default, means that the tab for an editor is re-used when clicking on it via the file explorer. 
This is helpful for users who explore the workspace with the mouse, as it keeps editor tabs from cluttering up the split until they've settled on the right file to work with.

![preview-mode](https://user-images.githubusercontent.com/7717033/96443563-7dda3e00-1215-11eb-9651-96b32ca36692.gif)

Thanks @fanantoxa for the awesome contribution!

### Configurable font weight

In 0.5.3... the font weight for Onivim is configurable! Another feature that has been a long time coming.

Onivim now has an `"editor.fontWeight"` setting:

![editor-font-weight](https://user-images.githubusercontent.com/13532591/106826500-e40b9500-663b-11eb-815d-e2235fe574f0.gif)

Thanks @marcagba for all your work implementing this!

### Additional language servers

Onivim now bundles an HTML language server:

![html-language-server](https://user-images.githubusercontent.com/13532591/106822846-b7a04a80-6634-11eb-876c-96299c0d6e03.gif)

The HTML language server supports diagnostics, codelens, completion, and an outline view.

We've also bundled a JSON language server, which features diagnostics and outline view integration.

### Extension host bug fixes

We've upgraded the extension host (from 1.51.0, to 1.52.1) - bringing us up-to-date with the Code extension host. Our goal
is to be within a month of the official extension host, so that we can ensure that extensions are compatible.

In addition, we've continued to fix blockers around extensions, notably:

- #2839, #2990 - Fix signature help staying open in normal mode and extra Escape key press
- #2995 - Fix blocking bugs for `nim` extension
- #2999 - Fix diagnostics not displaying the `Elmtooling.elm` extension
- #3000 - Fix out-of-order search results in extension pane (thanks @jakubbaron!)

### Vim bug fixes

- #2878 - `Control+[` now behaves like `Esc` across the UI
- #2877 - Conflicting `Control+b` bindings were removed
- #2871 - `Control+o` behavior in insert mode is fixed
- #2884 - `:tabnew`/`:new`/`:vnew` behavior is fixed
- #2891 - Fix count behavior for L/H jumps
- #2908 - Fix no-recursive remap behavior
- #2978 - Fix `m-` modifier key behavior

The full changelog can be found here: [Changelog](https://github.com/onivim/oni2/blob/5531c29372fe93913aa1af60bfbc671542d65880/CHANGES_CURRENT.md)

And the latest stable and nightly builds are available here: [Early Access Portal](https://v2.onivim.io/early-access-portal)

## What's Next

For our 0.5.4 (March) build, we're still working towards the 0.6.0 goals on our timeline - in particular, the focus for 0.5.4 is integrating snippet functionality in the editor:

![snippets](https://user-images.githubusercontent.com/13532591/106326862-0794a100-6232-11eb-9fc0-e19567d158a3.gif)

I'll look forward to updating you on that work next month.

Thanks for reading, and for helping us towards achieving this goal of "Modal Editing from the Future"! Your help, feedback, and support has been instrumental in allowing us to progress and push forward.

Stay safe and healthy!
